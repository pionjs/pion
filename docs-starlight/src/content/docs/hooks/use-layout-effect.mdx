---
title: useLayoutEffect
description: Run synchronous side effects with the useLayoutEffect hook in pion.
---

import ApiDocs from '../../../components/ApiDocs.astro';

The function signature is the same as `useEffect`, but the callback is being called synchronously after rendering. Therefore, updates scheduled inside `useLayoutEffect` will be flushed synchronously before the browser has a chance to paint.

Most of the time, it is preferable to use `useEffect` to avoid blocking visual updates.

```js
import { component, html, useLayoutEffect, useRef } from '@pionjs/pion';

function MeasuredElement() {
  const divRef = useRef(null);

  useLayoutEffect(() => {
    // This runs synchronously after render but before paint
    // Perfect for measurements
    if (divRef.current) {
      const { width, height } = divRef.current.getBoundingClientRect();
      console.log(`Element size: ${width}x${height}`);
    }
  });

  return html`
    <div ref=${divRef}>
      Measure me!
    </div>
  `;
}

customElements.define('measured-element', component(MeasuredElement));
```

<ApiDocs module="lib/use-layout-effect.js" />
